DO $$
DECLARE 
    _mmsis INT[] := ARRAY[259154000,259017500,258559000,257271600,257656000,257001420,257004760,257058300,257093370,257665700,257746600,257566000,259252000,257134620,257714600,257736500,257105640,257130240,257518600,257024540,257045940,257821500,257074740,257092640,257253620,257989500,257290720,257686600,257108840,257329920,257361220,257109440,257390920,257163640,257416720,257210940,257465320,259281000,257435500,258874000,257786700,257267000,257076840,258425000,257704000,257532800,259525000,257032500,257123000,257000700,257064490,257061650];
    _mmsi INT;
BEGIN
    FOREACH _mmsi IN ARRAY _mmsis
    LOOP
        EXECUTE FORMAT(
            $f$
                CREATE TABLE IF NOT EXISTS %I PARTITION OF ais_positions FOR VALUES IN (%L);
            $f$,
            CONCAT('ais_positions_', _mmsi),
            _mmsi
        );
    END LOOP;
END;
$$;
